{"version":3,"sources":["webpack:///E:/UniProjects/驾考大全/components/yq-avatar/yq-avatar.vue?1c54","webpack:///E:/UniProjects/驾考大全/components/yq-avatar/yq-avatar.vue?06f4","webpack:///E:/UniProjects/驾考大全/components/yq-avatar/yq-avatar.vue?df59","webpack:///E:/UniProjects/驾考大全/components/yq-avatar/yq-avatar.vue?4ffb","webpack:///E:/UniProjects/驾考大全/components/yq-avatar/yq-avatar.vue","webpack:///E:/UniProjects/驾考大全/components/yq-avatar/yq-avatar.vue?4cc0","webpack:///E:/UniProjects/驾考大全/components/yq-avatar/yq-avatar.vue?bf19"],"names":["tabHeight","name","data","cvsStyleHeight","styleDisplay","styleTop","prvTop","imgStyle","selStyle","showOper","imgSrc","btnWidth","btnDsp","watch","avatarSrc","props","avatarStyle","selWidth","selHeight","expWidth","expHeight","minScale","maxScale","canScale","canRotate","lockWidth","lockHeight","stretch","lock","noTab","inner","quality","index","created","ctxCanvas","uni","createCanvasContext","ctxCanvasOper","ctxCanvasPrv","qlty","parseInt","letRotate","letScale","isin","indx","undefined","mnScale","mxScale","noBar","stc","lck","moreHeight","fWindowResize","showTabBar","complete","res","errMsg","methods","sysInfo","getSystemInfoSync","platform","pixelRatio","windowWidth","windowHeight","pxRatio","style","trim","split","obj","v","indexOf","arr","k","parseFloat","join","exportWidth","exportHeight","fDrawInit","fHideImg","fSelect","fSelecting","setTimeout","chooseImage","count","sizeType","sourceType","success","r","showLoading","mask","path","imgPath","tempFilePaths","getImageInfo","src","imgWidth","width","imgHeight","height","hasSel","top","left","showModal","title","showCancel","hideTabBar","fail","showToast","duration","hideLoading","fUpload","fUploading","x","y","canvasToTempFilePath","destWidth","destHeight","canvasId","fileType","tempFilePath","$emit","avatar","rtn","fPrvUpload","fPrvUploading","prvX","prvY","prvWidth","prvHeight","ini","allWidth","allHeight","imgRadio","useWidth","useHeight","fixWidth","fixHeight","lckWidth","lckHeight","scaleWidth","scaleHeight","scaleSize","rotateDeg","posWidth","posHeight","canvas","canvasOper","setLineWidth","setStrokeStyle","setGlobalAlpha","setFillStyle","strokeRect","fillRect","moveTo","lineTo","stroke","draw","fDrawImage","tm_now","Date","now","drawTm","translate","scale","rotate","Math","PI","drawImage","prvImg","prvImgData","target","fClose","fPreview","fPreviewing","prvImgTmp","radio","rHeight","fChooseImg","params","fRotate","fStart","e","touches","touch0","touch1","fgDistance","sqrt","fMove","beScaleSize","rx0","ry0","l","t","b","atan","beX","beY","abs","fEnd","fGetImgData","Promise","resolve","reject","canvasGetImageData","err","fColorChange","prvTm","catch","Uint8ClampedArray","length","i","detail","value","n","g","max","min","d","h","s","a","round","q","p","hK","tR","tG","tB","correctRGB","createRGB","canvasPutImageData","btop","base64","mime","match","bstr","atob","u8arr","Uint8Array","charCodeAt","window","URL","webkitURL","createObjectURL","Blob","type"],"mappings":"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","file":"components/yq-avatar/yq-avatar.js","sourcesContent":["import { render, staticRenderFns } from \"./yq-avatar.vue?vue&type=template&id=06292b8c&name=yq-avatar&\"\nimport script from \"./yq-avatar.vue?vue&type=script&lang=js&\"\nexport * from \"./yq-avatar.vue?vue&type=script&lang=js&\"\nimport style0 from \"./yq-avatar.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!module.hot.data) {\n      api.createRecord('06292b8c', component.options)\n    } else {\n      api.reload('06292b8c', component.options)\n    }\n    module.hot.accept(\"./yq-avatar.vue?vue&type=template&id=06292b8c&name=yq-avatar&\", function () {\n      api.rerender('06292b8c', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"E:/UniProjects/驾考大全/components/yq-avatar/yq-avatar.vue\"\nexport default component.exports","export * from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--16-0!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-custom-block-loader\\\\index.js??ref--0-1!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./yq-avatar.vue?vue&type=template&id=06292b8c&name=yq-avatar&\"","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var s0 = _vm.__get_style([_vm.imgStyle])\n\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        s0: s0\n      }\n    }\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","import mod from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-custom-block-loader\\\\index.js??ref--0-1!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./yq-avatar.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-custom-block-loader\\\\index.js??ref--0-1!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./yq-avatar.vue?vue&type=script&lang=js&\"","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nconst tabHeight = 50;\nexport default {\n\tname: \"yq-avatar\",\n\tdata() {\n\t\treturn {\n\t\t\tcvsStyleHeight: '0px',\n\t\t\tstyleDisplay: 'none',\n\t\t\tstyleTop: '-10000px',\n\t\t\tprvTop: '-10000px',\n\t\t\timgStyle: {},\n\t\t\tselStyle: {},\n\t\t\tshowOper: true,\n\t\t\timgSrc: {\n\t\t\t\timgSrc: ''\n\t\t\t},\n\t\t\tbtnWidth: '19%',\n\t\t\tbtnDsp: 'flex',\n\t\t};\n\t},\n\twatch: {\n\t\tavatarSrc() {\n\t\t\tthis.imgSrc.imgSrc = this.avatarSrc;\n\t\t}\n\t},\n\tprops: {\n\t\tavatarSrc: '',\n\t\tavatarStyle: '',\n\t\tselWidth: '',\n\t\tselHeight: '',\n\t\texpWidth: '',\n\t\texpHeight: '',\n\t\tminScale: '',\n\t\tmaxScale: '',\n\t\tcanScale: '',\n\t\tcanRotate: '',\n\t\tlockWidth: '',\n\t\tlockHeight: '',\n\t\tstretch: '',\n\t\tlock: '',\n\t\tnoTab: '',\n\t\tinner: '',\n\t\tquality: '',\n\t\tindex: '',\n\t},\n\tcreated() {\n\t\tthis.ctxCanvas = uni.createCanvasContext('avatar-canvas', this);\n\t\tthis.ctxCanvasOper = uni.createCanvasContext('oper-canvas', this);\n\t\tthis.ctxCanvasPrv = uni.createCanvasContext('prv-canvas', this);\n\t\tthis.qlty = parseInt(this.quality) || 0.9;\n\t\tthis.imgSrc.imgSrc = this.avatarSrc;\n\t\tthis.letRotate = (this.canRotate === 'false' || this.inner === 'true') ? 0 : 1;\n\t\tthis.letScale = this.canScale === 'false' ? 0 : 1;\n\t\tthis.isin = this.inner === 'true' ? 1 : 0;\n\t\tthis.indx = this.index || undefined;\n\t\tthis.mnScale = this.minScale || 0.3;\n\t\tthis.mxScale = this.maxScale || 4;\n\t\tthis.noBar = this.noTab === 'true' ? 1 : 0;\n\t\tthis.stc = this.stretch;\n\t\tthis.lck = this.lock;\n\t\tif (this.isin) {\n\t\t\tthis.btnWidth = '24%';\n\t\t\tthis.btnDsp = 'none';\n\t\t} else {\n\t\t\tthis.btnWidth = '19%';\n\t\t\tthis.btnDsp = 'flex';\n\t\t}\n\n\t\tif (this.noBar) {\n\t\t\tthis.moreHeight = 0;\n\t\t\tthis.fWindowResize();\n\t\t} else {\n\t\t\tuni.showTabBar({\n\t\t\t\tcomplete: (res) => {\n\t\t\t\t\tthis.moreHeight = (res.errMsg === 'showTabBar:ok') ? 50 : 0;\n\t\t\t\t\tthis.fWindowResize();\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t},\n\tmethods: {\n\t\tfWindowResize() {\n\t\t\tlet sysInfo = uni.getSystemInfoSync();\n\t\t\tthis.platform = sysInfo.platform;\n\t\t\tthis.pixelRatio = sysInfo.pixelRatio;\n\t\t\tthis.windowWidth = sysInfo.windowWidth;\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\t\t\tthis.windowHeight = sysInfo.windowHeight + this.moreHeight;\n\t\t\tthis.cvsStyleHeight = this.windowHeight - tabHeight - 2 + 'px';\n\n\t\t\tthis.pxRatio = this.windowWidth / 750;\n\n\t\t\tlet style = this.avatarStyle;\n\t\t\tif (style && style !== true && (style = style.trim())) {\n\t\t\t\tstyle = style.split(';');\n\t\t\t\tlet obj = {};\n\t\t\t\tfor (let v of style) {\n\t\t\t\t\tif (!v) continue;\n\t\t\t\t\tv = v.trim().split(':');\n\t\t\t\t\tif (v[1].indexOf('upx') >= 0) {\n\t\t\t\t\t\tlet arr = v[1].trim().split(' ');\n\t\t\t\t\t\tfor (let k in arr) {\n\t\t\t\t\t\t\tif (!arr[k]) continue;\n\t\t\t\t\t\t\tif (arr[k].indexOf('upx') >= 0) {\n\t\t\t\t\t\t\t\tarr[k] = parseFloat(arr[k]) * this.pxRatio + 'px';\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tv[1] = arr.join(' ');\n\t\t\t\t\t}\n\t\t\t\t\tobj[v[0].trim()] = v[1].trim();\n\t\t\t\t}\n\t\t\t\tthis.imgStyle = obj;\n\t\t\t}\n\n\t\t\tthis.expWidth && (this.exportWidth = this.expWidth.indexOf('upx') >= 0 ? parseInt(this.expWidth) * this.pxRatio :\n\t\t\t\tparseInt(this.expWidth));\n\t\t\tthis.expHeight && (this.exportHeight = this.expHeight.indexOf('upx') >= 0 ? parseInt(this.expHeight) * this.pxRatio :\n\t\t\t\tparseInt(this.expHeight));\n\n\t\t\tif (this.styleDisplay === 'flex') {\n\t\t\t\tthis.fDrawInit(true);\n\t\t\t}\n\t\t\tthis.fHideImg();\n\t\t},\n\t\tfSelect() {\n\t\t\tif (this.fSelecting) return;\n\t\t\tthis.fSelecting = true;\n\t\t\tsetTimeout(() => {\n\t\t\t\tthis.fSelecting = false;\n\t\t\t}, 500);\n\n\t\t\tuni.chooseImage({\n\t\t\t\tcount: 1,\n\t\t\t\tsizeType: ['original', 'compressed'],\n\t\t\t\tsourceType: ['album', 'camera'],\n\t\t\t\tsuccess: (r) => {\n\t\t\t\t\tuni.showLoading({\n\t\t\t\t\t\tmask: true\n\t\t\t\t\t});\n\t\t\t\t\tlet path = this.imgPath = r.tempFilePaths[0];\n\t\t\t\t\tuni.getImageInfo({\n\t\t\t\t\t\tsrc: path,\n\t\t\t\t\t\tsuccess: r => {\n\t\t\t\t\t\t\tthis.imgWidth = r.width;\n\t\t\t\t\t\t\tthis.imgHeight = r.height;\n\t\t\t\t\t\t\tthis.path = path;\n\t\t\t\t\t\t\tif (!this.hasSel) {\n\t\t\t\t\t\t\t\tlet style = this.selStyle || {};\n\t\t\t\t\t\t\t\tif (this.selWidth && this.selHeight) {\n\t\t\t\t\t\t\t\t\tlet selWidth = this.selWidth.indexOf('upx') >= 0 ? parseInt(this.selWidth) * this.pxRatio : parseInt(\n\t\t\t\t\t\t\t\t\t\t\tthis.selWidth),\n\t\t\t\t\t\t\t\t\t\tselHeight = this.selHeight.indexOf('upx') >= 0 ? parseInt(this.selHeight) * this.pxRatio : parseInt(\n\t\t\t\t\t\t\t\t\t\t\tthis.selHeight);\n\t\t\t\t\t\t\t\t\tstyle.width = selWidth + 'px';\n\t\t\t\t\t\t\t\t\tstyle.height = selHeight + 'px';\n\t\t\t\t\t\t\t\t\tstyle.top = (this.windowHeight - selHeight - tabHeight) / 2 + 'px';\n\t\t\t\t\t\t\t\t\tstyle.left = (this.windowWidth - selWidth) / 2 + 'px';\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tuni.showModal({\n\t\t\t\t\t\t\t\t\t\ttitle: '裁剪框的宽或高没有设置',\n\t\t\t\t\t\t\t\t\t\tshowCancel: false\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tthis.selStyle = style;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tif (this.noBar) {\n\t\t\t\t\t\t\t\tthis.fDrawInit(true);\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tuni.hideTabBar({\n\t\t\t\t\t\t\t\t\tcomplete: () => {\n\t\t\t\t\t\t\t\t\t\tthis.fDrawInit(true);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t\tfail: () => {\n\t\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\ttitle: \"error3\",\n\t\t\t\t\t\t\t\tduration: 2000,\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t},\n\t\t\t\t\t\tcomplete() {\n\t\t\t\t\t\t\tuni.hideLoading();\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t})\n\t\t},\n\t\tfUpload() {\n\t\t\tif (this.fUploading) return;\n\t\t\tthis.fUploading = true;\n\t\t\tsetTimeout(() => {\n\t\t\t\tthis.fUploading = false;\n\t\t\t}, 1000)\n\n\t\t\tlet style = this.selStyle,\n\t\t\t\tx = parseInt(style.left),\n\t\t\t\ty = parseInt(style.top),\n\t\t\t\twidth = parseInt(style.width),\n\t\t\t\theight = parseInt(style.height),\n\t\t\t\texpWidth = this.exportWidth || width,\n\t\t\t\texpHeight = this.exportHeight || height;\n\n\n\n\n\n\n\t\t\tuni.showLoading({\n\t\t\t\tmask: true\n\t\t\t});\n\t\t\tthis.styleDisplay = 'none';\n\t\t\tthis.styleTop = '-10000px';\n\t\t\tthis.hasSel = false;\n\t\t\tthis.fHideImg();\n\t\t\tuni.canvasToTempFilePath({\n\t\t\t\tx: x,\n\t\t\t\ty: y,\n\t\t\t\twidth: width,\n\t\t\t\theight: height,\n\t\t\t\tdestWidth: expWidth,\n\t\t\t\tdestHeight: expHeight,\n\t\t\t\tcanvasId: 'avatar-canvas',\n\t\t\t\tfileType: 'png',\n\t\t\t\tquality: this.qlty,\n\t\t\t\tsuccess: (r) => {\n\t\t\t\t\tr = r.tempFilePath;\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\t\t\t\t\tthis.$emit(\"upload\", {\n\t\t\t\t\t\tavatar: this.imgSrc,\n\t\t\t\t\t\tpath: r,\n\t\t\t\t\t\tindex: this.indx,\n\t\t\t\t\t\tdata: this.rtn\n\t\t\t\t\t});\n\n\t\t\t\t},\n\t\t\t\tfail: (res) => {\n\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\ttitle: \"error1\",\n\t\t\t\t\t\tduration: 2000,\n\t\t\t\t\t})\n\t\t\t\t},\n\t\t\t\tcomplete: () => {\n\t\t\t\t\tuni.hideLoading();\n\t\t\t\t\tthis.noBar || uni.showTabBar();\n\t\t\t\t}\n\t\t\t}, this);\n\t\t},\n\t\tfPrvUpload() {\n\t\t\tif (this.fPrvUploading) return;\n\t\t\tthis.fPrvUploading = true;\n\t\t\tsetTimeout(() => {\n\t\t\t\tthis.fPrvUploading = false;\n\t\t\t}, 1000)\n\n\t\t\tlet style = this.selStyle,\n\t\t\t\tdestWidth = parseInt(style.width),\n\t\t\t\tdestHeight = parseInt(style.height),\n\t\t\t\tprvX = this.prvX,\n\t\t\t\tprvY = this.prvY,\n\t\t\t\tprvWidth = this.prvWidth,\n\t\t\t\tprvHeight = this.prvHeight,\n\t\t\t\texpWidth = this.exportWidth || prvWidth,\n\t\t\t\texpHeight = this.exportHeight || prvHeight;\n\n\n\n\n\n\n\n\n\t\t\tuni.showLoading({\n\t\t\t\tmask: true\n\t\t\t});\n\n\t\t\tthis.styleDisplay = 'none';\n\t\t\tthis.styleTop = '-10000px';\n\t\t\tthis.hasSel = false;\n\t\t\tthis.fHideImg();\n\t\t\tuni.canvasToTempFilePath({\n\t\t\t\tx: prvX,\n\t\t\t\ty: prvY,\n\t\t\t\twidth: prvWidth,\n\t\t\t\theight: prvHeight,\n\t\t\t\tdestWidth: expWidth,\n\t\t\t\tdestHeight: expHeight,\n\t\t\t\tcanvasId: 'prv-canvas',\n\t\t\t\tfileType: 'png',\n\t\t\t\tquality: this.qlty,\n\t\t\t\tsuccess: (r) => {\n\t\t\t\t\tr = r.tempFilePath;\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\t\t\t\t\tthis.$emit(\"upload\", {\n\t\t\t\t\t\tavatar: this.imgSrc,\n\t\t\t\t\t\tpath: r,\n\t\t\t\t\t\tindex: this.indx,\n\t\t\t\t\t\tdata: this.rtn\n\t\t\t\t\t});\n\n\t\t\t\t},\n\t\t\t\tfail: () => {\n\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\ttitle: \"error_prv\",\n\t\t\t\t\t\tduration: 2000,\n\t\t\t\t\t})\n\t\t\t\t},\n\t\t\t\tcomplete: () => {\n\t\t\t\t\tuni.hideLoading();\n\t\t\t\t\tthis.noBar || uni.showTabBar();\n\t\t\t\t}\n\t\t\t}, this);\n\t\t},\n\t\tfDrawInit(ini = false) {\n\t\t\tlet allWidth = this.windowWidth,\n\t\t\t\tallHeight = this.windowHeight,\n\t\t\t\timgWidth = this.imgWidth,\n\t\t\t\timgHeight = this.imgHeight,\n\t\t\t\timgRadio = imgWidth / imgHeight,\n\t\t\t\tuseWidth = allWidth - 40,\n\t\t\t\tuseHeight = allHeight - tabHeight - 80,\n\t\t\t\tpixelRatio = this.pixelRatio,\n\t\t\t\tselWidth = parseInt(this.selStyle.width),\n\t\t\t\tselHeight = parseInt(this.selStyle.height);\n\n\t\t\tthis.fixWidth = 0;\n\t\t\tthis.fixHeight = 0;\n\t\t\tthis.lckWidth = 0;\n\t\t\tthis.lckHeight = 0;\n\t\t\tswitch (this.stc) {\n\t\t\t\tcase 'x':\n\t\t\t\t\tthis.fixWidth = 1;\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'y':\n\t\t\t\t\tthis.fixHeight = 1;\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'long':\n\t\t\t\t\tif (imgRadio > 1) this.fixWidth = 1;\n\t\t\t\t\telse this.fixHeight = 1;\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'short':\n\t\t\t\t\tif (imgRadio > 1) this.fixHeight = 1;\n\t\t\t\t\telse this.fixWidth = 1;\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'longSel':\n\t\t\t\t\tif (selWidth > selHeight) this.fixWidth = 1;\n\t\t\t\t\telse this.fixHeight = 1;\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'shortSel':\n\t\t\t\t\tif (selWidth > selHeight) this.fixHeight = 1;\n\t\t\t\t\telse this.fixWidth = 1;\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t\tswitch (this.lck) {\n\t\t\t\tcase 'x':\n\t\t\t\t\tthis.lckWidth = 1;\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'y':\n\t\t\t\t\tthis.lckHeight = 1;\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'long':\n\t\t\t\t\tif (imgRadio > 1) this.lckWidth = 1;\n\t\t\t\t\telse this.lckHeight = 1;\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'short':\n\t\t\t\t\tif (imgRadio > 1) this.lckHeight = 1;\n\t\t\t\t\telse this.lckWidth = 1;\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'longSel':\n\t\t\t\t\tif (selWidth > selHeight) this.lckWidth = 1;\n\t\t\t\t\telse this.lckHeight = 1;\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'shortSel':\n\t\t\t\t\tif (selWidth > selHeight) this.lckHeight = 1;\n\t\t\t\t\telse this.lckWidth = 1;\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t\tif (this.fixWidth) {\n\t\t\t\tuseWidth = selWidth;\n\t\t\t\tuseHeight = useWidth / imgRadio;\n\t\t\t} else if (this.fixHeight) {\n\t\t\t\tuseHeight = selHeight;\n\t\t\t\tuseWidth = useHeight * imgRadio;\n\t\t\t} else if (imgRadio < 1) {\n\t\t\t\tif (imgHeight < useHeight) {\n\t\t\t\t\tuseWidth = imgWidth;\n\t\t\t\t\tuseHeight = imgHeight;\n\t\t\t\t} else {\n\t\t\t\t\tuseHeight = useHeight;\n\t\t\t\t\tuseWidth = useHeight * imgRadio;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif (imgWidth < useWidth) {\n\t\t\t\t\tuseWidth = imgWidth;\n\t\t\t\t\tuseHeight = imgHeight;\n\t\t\t\t} else {\n\t\t\t\t\tuseWidth = useWidth;\n\t\t\t\t\tuseHeight = useWidth / imgRadio;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (this.isin) {\n\t\t\t\tthis.scaleWidth = 0;\n\t\t\t\tthis.scaleHeight = 0;\n\t\t\t\tif (useWidth < selWidth) {\n\t\t\t\t\tuseWidth = selWidth;\n\t\t\t\t\tuseHeight = useWidth / imgRadio;\n\t\t\t\t\tthis.lckHeight = 0;\n\t\t\t\t}\n\t\t\t\tif (useHeight < selHeight) {\n\t\t\t\t\tuseHeight = selHeight;\n\t\t\t\t\tuseWidth = useHeight * imgRadio;\n\t\t\t\t\tthis.lckWidth = 0;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tthis.scaleSize = 1;\n\t\t\tthis.rotateDeg = 0;\n\t\t\tthis.posWidth = (allWidth - useWidth) / 2;\n\t\t\tthis.posHeight = (allHeight - useHeight - tabHeight) / 2;\n\t\t\tthis.useWidth = useWidth;\n\t\t\tthis.useHeight = useHeight;\n\n\t\t\tlet style = this.selStyle,\n\t\t\t\tleft = parseInt(style.left),\n\t\t\t\ttop = parseInt(style.top),\n\t\t\t\twidth = parseInt(style.width),\n\t\t\t\theight = parseInt(style.height),\n\t\t\t\tcanvas = this.canvas,\n\t\t\t\tcanvasOper = this.canvasOper,\n\t\t\t\tctxCanvas = this.ctxCanvas,\n\t\t\t\tctxCanvasOper = this.ctxCanvasOper;\n\n\t\t\tctxCanvasOper.setLineWidth(3);\n\t\t\tctxCanvasOper.setStrokeStyle('grey');\n\t\t\tctxCanvasOper.setGlobalAlpha(0.4);\n\t\t\tctxCanvasOper.setFillStyle('black');\n\t\t\tctxCanvasOper.strokeRect(left, top, width, height);\n\t\t\tctxCanvasOper.fillRect(0, 0, this.windowWidth, top);\n\t\t\tctxCanvasOper.fillRect(0, top, left, height);\n\t\t\tctxCanvasOper.fillRect(0, top + height, this.windowWidth, this.windowHeight - height - top - tabHeight);\n\t\t\tctxCanvasOper.fillRect(left + width, top, this.windowWidth - width - left, height);\n\t\t\tctxCanvasOper.setStrokeStyle('red');\n\t\t\tctxCanvasOper.moveTo(left + 20, top);\n\t\t\tctxCanvasOper.lineTo(left, top);\n\t\t\tctxCanvasOper.lineTo(left, top + 20);\n\t\t\tctxCanvasOper.moveTo(left + width - 20, top);\n\t\t\tctxCanvasOper.lineTo(left + width, top);\n\t\t\tctxCanvasOper.lineTo(left + width, top + 20);\n\t\t\tctxCanvasOper.moveTo(left + 20, top + height);\n\t\t\tctxCanvasOper.lineTo(left, top + height);\n\t\t\tctxCanvasOper.lineTo(left, top + height - 20);\n\t\t\tctxCanvasOper.moveTo(left + width - 20, top + height);\n\t\t\tctxCanvasOper.lineTo(left + width, top + height);\n\t\t\tctxCanvasOper.lineTo(left + width, top + height - 20);\n\t\t\tctxCanvasOper.stroke();\n\n\t\t\tctxCanvasOper.draw(false, () => {\n\t\t\t\tif (ini) {\n\t\t\t\t\tthis.styleDisplay = 'flex';\n\n\n\n\n\t\t\t\t\tthis.styleTop = '0';\n\n\t\t\t\t\tctxCanvas.setFillStyle('black');\n\t\t\t\t\tthis.fDrawImage();\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tthis.$emit(\"avtinit\");\n\t\t},\n\t\tfDrawImage() {\n\t\t\tlet tm_now = Date.now();\n\t\t\tif (tm_now - this.drawTm < 20) return;\n\t\t\tthis.drawTm = tm_now;\n\t\t\tlet ctxCanvas = this.ctxCanvas;\n\t\t\tctxCanvas.fillRect(0, 0, this.windowWidth, this.windowHeight - tabHeight);\n\t\t\tctxCanvas.translate(this.posWidth + this.useWidth / 2, this.posHeight + this.useHeight / 2);\n\t\t\tctxCanvas.scale(this.scaleSize, this.scaleSize);\n\t\t\tctxCanvas.rotate(this.rotateDeg * Math.PI / 180);\n\t\t\tctxCanvas.drawImage(this.imgPath, -this.useWidth / 2, -this.useHeight / 2, this.useWidth, this.useHeight);\n\t\t\tctxCanvas.draw(false);\n\t\t},\n\t\tfHideImg() {\n\t\t\tthis.prvImg = '';\n\t\t\tthis.prvTop = '-10000px';\n\t\t\tthis.showOper = true;\n\t\t\tthis.prvImgData = null;\n\t\t\tthis.target = null;\n\t\t},\n\t\tfClose() {\n\t\t\tthis.styleDisplay = 'none';\n\t\t\tthis.styleTop = '-10000px';\n\t\t\tthis.hasSel = false;\n\t\t\tthis.fHideImg();\n\t\t\tthis.noBar || uni.showTabBar();\n\t\t},\n\t\tfPreview() {\n\t\t\tif (this.fPreviewing) return;\n\t\t\tthis.fPreviewing = true;\n\t\t\tsetTimeout(() => {\n\t\t\t\tthis.fPreviewing = false;\n\t\t\t}, 1000);\n\n\t\t\tlet style = this.selStyle,\n\t\t\t\tx = parseInt(style.left),\n\t\t\t\ty = parseInt(style.top),\n\t\t\t\twidth = parseInt(style.width),\n\t\t\t\theight = parseInt(style.height);\n\n\n\n\n\n\n\t\t\tuni.showLoading({\n\t\t\t\tmask: true\n\t\t\t});\n\n\t\t\tuni.canvasToTempFilePath({\n\t\t\t\tx: x,\n\t\t\t\ty: y,\n\t\t\t\twidth: width,\n\t\t\t\theight: height,\n\t\t\t\tcanvasId: 'avatar-canvas',\n\t\t\t\tfileType: 'png',\n\t\t\t\tquality: this.qlty,\n\t\t\t\tsuccess: (r) => {\n\t\t\t\t\tthis.prvImgTmp = r = r.tempFilePath;\n\n\t\t\t\t\tlet ctxCanvasPrv = this.ctxCanvasPrv,\n\t\t\t\t\t\tprvX = this.windowWidth,\n\t\t\t\t\t\tprvY = parseInt(this.cvsStyleHeight),\n\t\t\t\t\t\tprvWidth = parseInt(this.selStyle.width),\n\t\t\t\t\t\tprvHeight = parseInt(this.selStyle.height),\n\t\t\t\t\t\tuseWidth = prvX - 40,\n\t\t\t\t\t\tuseHeight = prvY - 80,\n\t\t\t\t\t\tradio = useWidth / prvWidth,\n\t\t\t\t\t\trHeight = prvHeight * radio;\n\t\t\t\t\tif (rHeight < useHeight) {\n\t\t\t\t\t\tprvWidth = useWidth;\n\t\t\t\t\t\tprvHeight = rHeight;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tradio = useHeight / prvHeight;\n\t\t\t\t\t\tprvWidth *= radio;\n\t\t\t\t\t\tprvHeight = useHeight;\n\t\t\t\t\t}\n\t\t\t\t\tctxCanvasPrv.setFillStyle('black');\n\t\t\t\t\tctxCanvasPrv.fillRect(0, 0, prvX, prvY);\n\t\t\t\t\tthis.prvX = prvX = (prvX - prvWidth) / 2;\n\t\t\t\t\tthis.prvY = prvY = (prvY - prvHeight) / 2;\n\t\t\t\t\tthis.prvWidth = prvWidth;\n\t\t\t\t\tthis.prvHeight = prvHeight;\n\t\t\t\t\tctxCanvasPrv.drawImage(r, prvX, prvY, prvWidth, prvHeight);\n\t\t\t\t\tctxCanvasPrv.draw(false);\n\n\n\n\n\n\n\n\n\t\t\t\t\tif (this.platform != 'android') {\n\t\t\t\t\t\tthis.showOper = false;\n\t\t\t\t\t}\n\t\t\t\t\tthis.prvTop = '0';\n\n\t\t\t\t},\n\t\t\t\tfail: () => {\n\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\ttitle: \"error2\",\n\t\t\t\t\t\tduration: 2000,\n\t\t\t\t\t})\n\t\t\t\t},\n\t\t\t\tcomplete: () => {\n\t\t\t\t\tuni.hideLoading();\n\t\t\t\t}\n\t\t\t}, this);\n\t\t},\n\t\tfChooseImg(index = undefined, params = undefined, data = undefined) {\n\t\t\tif (params) {\n\t\t\t\tlet selWidth = params.selWidth,\n\t\t\t\t\tselHeight = params.selHeight,\n\t\t\t\t\texpWidth = params.expWidth,\n\t\t\t\t\texpHeight = params.expHeight,\n\t\t\t\t\tquality = params.quality,\n\t\t\t\t\tcanRotate = params.canRotate,\n\t\t\t\t\tcanScale = params.canScale,\n\t\t\t\t\tminScale = params.minScale,\n\t\t\t\t\tmaxScale = params.maxScale,\n\t\t\t\t\tstretch = params.stretch,\n\t\t\t\t\tinner = params.inner,\n\t\t\t\t\tlock = params.lock;\n\n\t\t\t\texpWidth && (this.exportWidth = expWidth.indexOf('upx') >= 0 ? parseInt(expWidth) * this.pxRatio : parseInt(\n\t\t\t\t\texpWidth));\n\t\t\t\texpHeight && (this.exportHeight = expHeight.indexOf('upx') >= 0 ? parseInt(expHeight) * this.pxRatio : parseInt(\n\t\t\t\t\texpHeight));\n\t\t\t\tthis.letRotate = canRotate === 'false' ? 0 : 1;\n\t\t\t\tthis.letScale = canScale === 'false' ? 0 : 1;\n\t\t\t\tthis.qlty = parseInt(quality) || 0.9;\n\t\t\t\tthis.mnScale = minScale || 0.3;\n\t\t\t\tthis.mxScale = maxScale || 4;\n\t\t\t\tthis.stc = stretch;\n\t\t\t\tthis.isin = inner === 'true' ? 1 : 0;\n\t\t\t\tthis.lck = lock;\n\t\t\t\tif (this.isin) {\n\t\t\t\t\tthis.btnWidth = '24%';\n\t\t\t\t\tthis.btnDsp = 'none';\n\t\t\t\t} else {\n\t\t\t\t\tthis.btnWidth = '19%';\n\t\t\t\t\tthis.btnDsp = 'flex';\n\t\t\t\t}\n\n\t\t\t\tif (selWidth && selHeight) {\n\t\t\t\t\tselWidth = selWidth.indexOf('upx') >= 0 ? parseInt(selWidth) * this.pxRatio : parseInt(selWidth);\n\t\t\t\t\tselHeight = selHeight.indexOf('upx') >= 0 ? parseInt(selHeight) * this.pxRatio : parseInt(selHeight);\n\t\t\t\t\tthis.selStyle.width = selWidth + 'px';\n\t\t\t\t\tthis.selStyle.height = selHeight + 'px';\n\t\t\t\t\tthis.selStyle.top = (this.windowHeight - selHeight - tabHeight) / 2 + 'px';\n\t\t\t\t\tthis.selStyle.left = (this.windowWidth - selWidth) / 2 + 'px';\n\t\t\t\t\tthis.hasSel = true;\n\t\t\t\t}\n\t\t\t}\n\t\t\tthis.rtn = data;\n\t\t\tthis.indx = index;\n\t\t\tthis.fSelect();\n\t\t},\n\t\tfRotate() {\n\n\n\n\n\n\n\n\n\n\n\t\t\t// if(this.letRotate) {\n\t\t\tthis.rotateDeg += 90 - this.rotateDeg % 90;\n\t\t\tthis.fDrawImage();\n\t\t\t// }\n\t\t},\n\t\tfStart(e) {\n\t\t\tlet touches = e.touches,\n\t\t\t\ttouch0 = touches[0],\n\t\t\t\ttouch1 = touches[1];\n\n\t\t\tthis.touch0 = touch0;\n\t\t\tthis.touch1 = touch1;\n\n\t\t\tif (touch1) {\n\t\t\t\tlet x = touch1.x - touch0.x,\n\t\t\t\t\ty = touch1.y - touch0.y;\n\t\t\t\tthis.fgDistance = Math.sqrt(x * x + y * y);\n\t\t\t}\n\t\t},\n\t\tfMove(e) {\n\t\t\tlet touches = e.touches,\n\t\t\t\ttouch0 = touches[0],\n\t\t\t\ttouch1 = touches[1];\n\n\t\t\tif (touch1) {\n\t\t\t\tlet x = touch1.x - touch0.x,\n\t\t\t\t\ty = touch1.y - touch0.y,\n\t\t\t\t\tfgDistance = Math.sqrt(x * x + y * y),\n\t\t\t\t\tscaleSize = 0.005 * (fgDistance - this.fgDistance),\n\t\t\t\t\tbeScaleSize = this.scaleSize + scaleSize;\n\n\t\t\t\tdo {\n\t\t\t\t\tif (!this.letScale) break;\n\t\t\t\t\tif (beScaleSize < this.mnScale) break;\n\t\t\t\t\tif (beScaleSize > this.mxScale) break;\n\t\t\t\t\tif (this.isin) {\n\t\t\t\t\t\tlet imgWidth = this.useWidth * beScaleSize,\n\t\t\t\t\t\t\timgHeight = this.useHeight * beScaleSize,\n\t\t\t\t\t\t\trx0 = this.posWidth + this.useWidth / 2,\n\t\t\t\t\t\t\try0 = this.posHeight + this.useHeight / 2,\n\t\t\t\t\t\t\tl = rx0 - imgWidth / 2,\n\t\t\t\t\t\t\tt = ry0 - imgHeight / 2,\n\t\t\t\t\t\t\tr = l + imgWidth,\n\t\t\t\t\t\t\tb = t + imgHeight,\n\t\t\t\t\t\t\tleft = parseInt(this.selStyle.left),\n\t\t\t\t\t\t\ttop = parseInt(this.selStyle.top),\n\t\t\t\t\t\t\twidth = parseInt(this.selStyle.width),\n\t\t\t\t\t\t\theight = parseInt(this.selStyle.height);\n\t\t\t\t\t\tif (left < l || left + width > r || top < t || top + height > b) break;\n\t\t\t\t\t\tthis.scaleWidth = (this.useWidth - imgWidth) / 2;\n\t\t\t\t\t\tthis.scaleHeight = (this.useHeight - imgHeight) / 2;\n\t\t\t\t\t}\n\n\t\t\t\t\tthis.scaleSize = beScaleSize;\n\t\t\t\t} while (0);\n\t\t\t\tthis.fgDistance = fgDistance;\n\n\t\t\t\tif (touch1.x !== touch0.x && this.letRotate) {\n\t\t\t\t\tx = (this.touch1.y - this.touch0.y) / (this.touch1.x - this.touch0.x);\n\t\t\t\t\ty = (touch1.y - touch0.y) / (touch1.x - touch0.x);\n\t\t\t\t\tthis.rotateDeg += Math.atan((y - x) / (1 + x * y)) * 180 / Math.PI;\n\t\t\t\t\tthis.touch0 = touch0;\n\t\t\t\t\tthis.touch1 = touch1;\n\t\t\t\t}\n\n\t\t\t\tthis.fDrawImage();\n\t\t\t} else if (this.touch0) {\n\t\t\t\tlet x = touch0.x - this.touch0.x,\n\t\t\t\t\ty = touch0.y - this.touch0.y,\n\t\t\t\t\tbeX = this.posWidth + x,\n\t\t\t\t\tbeY = this.posHeight + y;\n\t\t\t\tif (this.isin) {\n\t\t\t\t\tlet imgWidth = this.useWidth * this.scaleSize,\n\t\t\t\t\t\timgHeight = this.useHeight * this.scaleSize,\n\t\t\t\t\t\trx0 = beX + this.useWidth / 2,\n\t\t\t\t\t\try0 = beY + this.useHeight / 2,\n\t\t\t\t\t\tl = rx0 - imgWidth / 2,\n\t\t\t\t\t\tt = ry0 - imgHeight / 2,\n\t\t\t\t\t\tr = l + imgWidth,\n\t\t\t\t\t\tb = t + imgHeight,\n\t\t\t\t\t\tleft = parseInt(this.selStyle.left),\n\t\t\t\t\t\ttop = parseInt(this.selStyle.top),\n\t\t\t\t\t\twidth = parseInt(this.selStyle.width),\n\t\t\t\t\t\theight = parseInt(this.selStyle.height);\n\t\t\t\t\tif (!this.lckWidth && Math.abs(x) < 100) {\n\t\t\t\t\t\tif (left >= l && left + width <= r) {\n\t\t\t\t\t\t\tthis.posWidth = beX;\n\t\t\t\t\t\t} else if (left < l) {\n\t\t\t\t\t\t\tthis.posWidth = left - this.scaleWidth;\n\t\t\t\t\t\t} else if (left + width > r) {\n\t\t\t\t\t\t\tthis.posWidth = left - (imgWidth - width) - this.scaleWidth;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif (!this.lckHeight && Math.abs(y) < 100) {\n\t\t\t\t\t\tif (top >= t && top + height <= b) {\n\t\t\t\t\t\t\tthis.posHeight = beY;\n\t\t\t\t\t\t} else if (top < t) {\n\t\t\t\t\t\t\tthis.posHeight = top - this.scaleHeight;\n\t\t\t\t\t\t} else if (top + height > b) {\n\t\t\t\t\t\t\tthis.posHeight = top - (imgHeight - height) - this.scaleHeight;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tif (Math.abs(x) < 100 && !this.lckWidth) this.posWidth = beX;\n\t\t\t\t\tif (Math.abs(y) < 100 && !this.lckHeight) this.posHeight = beY;\n\t\t\t\t}\n\n\t\t\t\tthis.touch0 = touch0;\n\t\t\t\tthis.fDrawImage();\n\t\t\t}\n\t\t},\n\t\tfEnd(e) {\n\t\t\tlet touches = e.touches,\n\t\t\t\ttouch0 = touches && touches[0],\n\t\t\t\ttouch1 = touches && touches[1];\n\t\t\tif (touch0) {\n\t\t\t\tthis.touch0 = touch0;\n\t\t\t} else {\n\t\t\t\tthis.touch0 = null;\n\t\t\t\tthis.touch1 = null;\n\t\t\t}\n\t\t},\n\t\tfGetImgData() {\n\t\t\treturn new Promise((resolve, reject) => {\n\t\t\t\tlet prvX = this.prvX,\n\t\t\t\t\tprvY = this.prvY,\n\t\t\t\t\tprvWidth = this.prvWidth,\n\t\t\t\t\tprvHeight = this.prvHeight;\n\n\n\n\n\n\n\t\t\t\tuni.canvasGetImageData({\n\t\t\t\t\tcanvasId: 'prv-canvas',\n\t\t\t\t\tx: prvX,\n\t\t\t\t\ty: prvY,\n\t\t\t\t\twidth: prvWidth,\n\t\t\t\t\theight: prvHeight,\n\t\t\t\t\tsuccess(res) {\n\t\t\t\t\t\tresolve(res.data);\n\t\t\t\t\t},\n\t\t\t\t\tfail(err) {\n\t\t\t\t\t\treject(err);\n\t\t\t\t\t}\n\t\t\t\t}, this);\n\t\t\t});\n\t\t},\n\t\tasync fColorChange(e) {\n\t\t\tlet tm_now = Date.now();\n\t\t\tif (tm_now - this.prvTm < 100) return;\n\t\t\tthis.prvTm = tm_now;\n\n\t\t\tuni.showLoading({\n\t\t\t\tmask: true\n\t\t\t});\n\n\t\t\tif (!this.prvImgData) {\n\t\t\t\tif (!(this.prvImgData = await this.fGetImgData().catch((res) => {\n\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\ttitle: \"error_read\",\n\t\t\t\t\t\t\tduration: 2000,\n\t\t\t\t\t\t})\n\t\t\t\t\t}))) return;\n\t\t\t\tthis.target = new Uint8ClampedArray(this.prvImgData.length);\n\t\t\t}\n\n\t\t\tlet data = this.prvImgData,\n\t\t\t\ttarget = this.target,\n\t\t\t\ti = e.detail.value,\n\t\t\t\tr, g, b, a, h, s, l, d, p, q, t, min, max, hK, tR, tG, tB;\n\n\t\t\tif (i === 0) {\n\t\t\t\ttarget = data;\n\t\t\t} else {\n\t\t\t\ti = (i + 100) / 200;\n\t\t\t\tif (i < 0.005) i = 0;\n\t\t\t\tif (i > 0.995) i = 1;\n\t\t\t\tfor (let n = data.length - 1; n >= 0; n -= 4) {\n\t\t\t\t\tr = data[n - 3] / 255;\n\t\t\t\t\tg = data[n - 2] / 255;\n\t\t\t\t\tb = data[n - 1] / 255;\n\t\t\t\t\tmax = Math.max(r, g, b);\n\t\t\t\t\tmin = Math.min(r, g, b);\n\t\t\t\t\td = max - min;\n\t\t\t\t\tif (max === min) {\n\t\t\t\t\t\th = 0;\n\t\t\t\t\t} else if (max === r && g >= b) {\n\t\t\t\t\t\th = 60 * ((g - b) / d);\n\t\t\t\t\t} else if (max === r && g < b) {\n\t\t\t\t\t\th = 60 * ((g - b) / d) + 360;\n\t\t\t\t\t} else if (max === g) {\n\t\t\t\t\t\th = 60 * ((b - r) / d) + 120;\n\t\t\t\t\t} else if (max === b) {\n\t\t\t\t\t\th = 60 * ((r - g) / d) + 240;\n\t\t\t\t\t}\n\t\t\t\t\tl = (max + min) / 2;\n\t\t\t\t\tif (l === 0 || max === min) {\n\t\t\t\t\t\ts = 0;\n\t\t\t\t\t} else if (0 < l && l <= 0.5) {\n\t\t\t\t\t\ts = d / (2 * l);\n\t\t\t\t\t} else if (l > 0.5) {\n\t\t\t\t\t\ts = d / (2 - 2 * l);\n\t\t\t\t\t}\n\t\t\t\t\tdata[n] && (a = data[n]);\n\n\t\t\t\t\tif (i < 0.5) {\n\t\t\t\t\t\ts = s * i / 0.5;\n\t\t\t\t\t} else if (i > 0.5) {\n\t\t\t\t\t\ts = 2 * s + 2 * i - (s * i / 0.5) - 1;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (s === 0) {\n\t\t\t\t\t\tr = g = b = Math.round(l * 255);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tif (l < 0.5) {\n\t\t\t\t\t\t\tq = l * (1 + s);\n\t\t\t\t\t\t} else if (l >= 0.5) {\n\t\t\t\t\t\t\tq = l + s - (l * s);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tp = 2 * l - q;\n\t\t\t\t\t\thK = h / 360;\n\t\t\t\t\t\ttR = hK + 1 / 3;\n\t\t\t\t\t\ttG = hK;\n\t\t\t\t\t\ttB = hK - 1 / 3;\n\t\t\t\t\t\tlet correctRGB = (t) => {\n\t\t\t\t\t\t\tif (t < 0) {\n\t\t\t\t\t\t\t\treturn t + 1.0;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (t > 1) {\n\t\t\t\t\t\t\t\treturn t - 1.0;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\treturn t;\n\t\t\t\t\t\t};\n\t\t\t\t\t\tlet createRGB = (t) => {\n\t\t\t\t\t\t\tif (t < (1 / 6)) {\n\t\t\t\t\t\t\t\treturn p + ((q - p) * 6 * t);\n\t\t\t\t\t\t\t} else if (t >= (1 / 6) && t < (1 / 2)) {\n\t\t\t\t\t\t\t\treturn q;\n\t\t\t\t\t\t\t} else if (t >= (1 / 2) && t < (2 / 3)) {\n\t\t\t\t\t\t\t\treturn p + ((q - p) * 6 * ((2 / 3) - t));\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\treturn p;\n\t\t\t\t\t\t};\n\t\t\t\t\t\tr = tR = Math.round(createRGB(correctRGB(tR)) * 255);\n\t\t\t\t\t\tg = tG = Math.round(createRGB(correctRGB(tG)) * 255);\n\t\t\t\t\t\tb = tB = Math.round(createRGB(correctRGB(tB)) * 255);\n\t\t\t\t\t}\n\t\t\t\t\ta && (target[n] = a);\n\t\t\t\t\ttarget[n - 3] = r;\n\t\t\t\t\ttarget[n - 2] = g;\n\t\t\t\t\ttarget[n - 1] = b;\n\t\t\t\t}\n\t\t\t}\n\t\t\tlet prvX = this.prvX,\n\t\t\t\tprvY = this.prvY,\n\t\t\t\tprvWidth = this.prvWidth,\n\t\t\t\tprvHeight = this.prvHeight;\n\n\t\t\tthis.ctxCanvasPrv.setFillStyle('black');\n\t\t\tthis.ctxCanvasPrv.fillRect(prvX, prvY, prvWidth, prvHeight);\n\t\t\tthis.ctxCanvasPrv.draw(true);\n\n\n\n\n\n\n\n\t\t\tuni.canvasPutImageData({\n\t\t\t\tcanvasId: 'prv-canvas',\n\t\t\t\tx: prvX,\n\t\t\t\ty: prvY,\n\t\t\t\twidth: prvWidth,\n\t\t\t\theight: prvHeight,\n\t\t\t\tdata: target,\n\t\t\t\tfail() {\n\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\ttitle: 'error_put',\n\t\t\t\t\t\tduration: 2000\n\t\t\t\t\t})\n\t\t\t\t},\n\t\t\t\tcomplete() {\n\t\t\t\t\tuni.hideLoading();\n\t\t\t\t}\n\t\t\t}, this);\n\t\t},\n\t\tbtop(base64) {\n\t\t\treturn new Promise(function(resolve, reject) {\n\t\t\t\tvar arr = base64.split(','),\n\t\t\t\t\tmime = arr[0].match(/:(.*?);/)[1],\n\t\t\t\t\tbstr = atob(arr[1]),\n\t\t\t\t\tn = bstr.length,\n\t\t\t\t\tu8arr = new Uint8Array(n);\n\t\t\t\twhile (n--) {\n\t\t\t\t\tu8arr[n] = bstr.charCodeAt(n);\n\t\t\t\t}\n\t\t\t\treturn resolve((window.URL || window.webkitURL).createObjectURL(new Blob([u8arr], {\n\t\t\t\t\ttype: mime\n\t\t\t\t})));\n\t\t\t});\n\t\t},\n\t}\n}\n","import mod from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--6-oneOf-1-0!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--6-oneOf-1-1!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\index.js??ref--6-oneOf-1-2!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--6-oneOf-1-3!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-custom-block-loader\\\\index.js??ref--0-1!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./yq-avatar.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--6-oneOf-1-0!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--6-oneOf-1-1!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\index.js??ref--6-oneOf-1-2!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--6-oneOf-1-3!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-custom-block-loader\\\\index.js??ref--0-1!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./yq-avatar.vue?vue&type=style&index=0&lang=css&\"","// extracted by mini-css-extract-plugin"],"sourceRoot":""}